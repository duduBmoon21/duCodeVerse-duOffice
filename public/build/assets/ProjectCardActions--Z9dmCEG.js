import{j as r,r as t,y as d}from"./app-CWuogeuA.js";import{o as s}from"./ConfirmModal-BiBfjp2e.js";import{u as n}from"./useForm-CE__LUR5.js";import u from"./UserAccessModal-BxGkcWuR.js";import{u as h}from"./useTranslation-BMED3SRO.js";import{M as o}from"./Menu-LLfB-uq4.js";import{A as j}from"./ActionIcon-CHZoSw_v.js";import{I as f,a as g}from"./IconDots-CYpA-CHs.js";import{I as k}from"./IconUsers-DgTwuMK6.js";import{I as x}from"./IconPencil-Cp32rb9d.js";import{I as v}from"./IconArchive-Bkr4SLne.js";import"./Text-DBjpm_Fk.js";import"./index-DzNBzU-A.js";import"./user-IyQLa11_.js";import"./MultiSelect-TofQUElt.js";import"./use-resolved-styles-api-D8xKo8RY.js";import"./OptionsDropdown-ZaBUUms4.js";import"./CheckIcon-2w3lxFdE.js";import"./ScrollArea-CoM5ddBT.js";import"./DirectionProvider-D0Syn9za.js";import"./Combobox-BblCFk_J.js";import"./Popover-aOZF2sDJ.js";import"./use-floating-auto-update-B-_0Oi9q.js";import"./use-uncontrolled-Dq7POLQj.js";import"./Input-BJ3Z7SeR.js";import"./create-optional-context-D29aDTej.js";import"./InputBase-CS0Y85uP.js";import"./Pill-B1m13iod.js";import"./PillsInput-DNcbdnY5.js";import"./Flex-CNYIBZmK.js";import"./createReactComponent-BZslM3T3.js";function _({item:e}){const{t:i}=h(),[c]=n("delete",route("projects.destroy",e.id)),[a]=n("post",route("projects.restore",e.id)),p=()=>s({type:"danger",title:"Archive project",content:"Are you sure you want to archive this project? This action will prevent users from accessing it.",confirmLabel:"Archive",confirmProps:{color:"red"},onConfirm:()=>c.submit({preserveScroll:!0})}),m=()=>s({type:"info",title:"Restore project",content:"Are you sure you want to restore this project?",confirmLabel:"Restore",confirmProps:{color:"blue"},onConfirm:()=>a.submit({preserveScroll:!0})}),l=()=>u(e);return r.jsx(r.Fragment,{children:(can("edit project user access")||can("edit project")||can("restore project")||can("archive project"))&&r.jsxs(o,{withArrow:!0,position:"bottom-end",shadow:"md",transitionProps:{duration:100,transition:"pop-top-right"},offset:{mainAxis:3,alignmentAxis:5},"data-ignore-link":!0,children:[r.jsx(o.Target,{children:r.jsx(j,{variant:"subtle",color:"gray","data-ignore-link":!0,children:r.jsx(f,{style:{width:t(20),height:t(20)},stroke:1.5,"data-ignore-link":!0})})}),r.jsxs(o.Dropdown,{children:[can("edit project user access")&&r.jsx(o.Item,{leftSection:r.jsx(k,{style:{width:t(16),height:t(16)},stroke:1.5,"data-ignore-link":!0}),onClick:l,"data-ignore-link":!0,children:"User access"}),can("edit project")&&r.jsx(o.Item,{leftSection:r.jsx(x,{style:{width:t(16),height:t(16)},stroke:1.5,"data-ignore-link":!0}),onClick:()=>d.visit(route("projects.edit",e.id)),"data-ignore-link":!0,children:i("Edit")}),can("restore project")&&route().params.archived&&r.jsx(o.Item,{leftSection:r.jsx(g,{style:{width:t(16),height:t(16)},stroke:1.5,"data-ignore-link":!0}),color:"blue",onClick:m,"data-ignore-link":!0,children:i("Restore")}),can("archive project")&&!route().params.archived&&r.jsx(o.Item,{leftSection:r.jsx(v,{style:{width:t(16),height:t(16)},stroke:1.5,"data-ignore-link":!0}),color:"red",onClick:p,"data-ignore-link":!0,children:"Archive"})]})]})})}export{_ as default};
