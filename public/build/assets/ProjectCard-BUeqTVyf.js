import{u as M,j as r,B as b,g as D,f as E,d as B,e as F,b as G,h as A,r as f,G as x}from"./app-CWuogeuA.js";import{C as O}from"./Card-Cay6ppqK.js";import{a as V}from"./route-HpiTa34D.js";import{r as W}from"./round-D3NUXtFw.js";import{u as q}from"./useTranslation-BMED3SRO.js";import{S as H}from"./Stack-Dp1Xcxwn.js";import{T as J}from"./Title-bWYyVAL-.js";import{I as K}from"./IconStarFilled-CVV2pk_r.js";import{T as g}from"./Text-DBjpm_Fk.js";import{T as y}from"./Tooltip-DPD_X-vc.js";import"./Card-C_bx3538.js";import"./_baseClone-j4chtsIi.js";import"./createReactComponent-BZslM3T3.js";import"./DirectionProvider-D0Syn9za.js";import"./use-floating-auto-update-B-_0Oi9q.js";import"./get-style-object-DUJZA7T_.js";function L({size:s,thickness:t,sum:e,value:n,root:u,offset:m}){const i=(s*.9-t*2)/2,a=Math.PI*i*2/100,o=u||n===void 0?`${(100-e)*a}, ${e*a}`:`${n*a}, ${(100-n)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:s/2||0,cy:s/2||0,r:i||0,transform:u?`scale(1, -1) translate(0, -${s})`:void 0,strokeDasharray:o,strokeDashoffset:u?0:m||0}}function C({size:s,value:t,offset:e,sum:n,thickness:u,root:m,color:i,lineRoundCaps:a,tooltip:o,getStyles:c,display:l,...d}){const v=M();return r.jsx(y.Floating,{disabled:!o,label:o,children:r.jsx(b,{component:"circle",...d,...c("curve"),__vars:{"--curve-color":i?D(i,v):void 0},fill:"none",strokeLinecap:a?"round":"butt",...L({sum:n,size:s,thickness:u,value:t,offset:e,root:m})})})}C.displayName="@mantine/core/Curve";function Q({size:s,thickness:t,sections:e,renderRoundedLineCaps:n,rootColor:u}){const m=e.reduce((l,d)=>l+d.value,0),i=Math.PI*((s*.9-t*2)/2)*2;let a=i;const o=[],c=[];for(let l=0;l<e.length;l+=1)o.push({sum:m,offset:a,data:e[l],root:!1}),a-=e[l].value/100*i;if(o.push({sum:m,offset:a,data:{color:u},root:!0}),c.push({...o[o.length-1],lineRoundCaps:!1}),o.length>2){c.push({...o[0],lineRoundCaps:n}),c.push({...o[o.length-2],lineRoundCaps:n});for(let l=1;l<=o.length-3;l+=1)c.push({...o[l],lineRoundCaps:!1})}else c.push({...o[0],lineRoundCaps:n});return c}var P={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function U(s,t){return Math.min(s||12,(t||120)/4)}const X={size:120,thickness:12},Y=A((s,{size:t,thickness:e})=>({root:{"--rp-size":f(t),"--rp-label-offset":f(e*2)}})),_=E((s,t)=>{const e=B("RingProgress",X,s),{classNames:n,className:u,style:m,styles:i,unstyled:a,vars:o,label:c,sections:l,size:d,thickness:v,roundCaps:R,rootColor:T,...j}=e,p=F({name:"RingProgress",classes:P,props:e,className:u,style:m,classNames:n,styles:i,unstyled:a,vars:o,varsResolver:Y}),k=U(v,d),w=Q({size:d,thickness:k,sections:l,renderRoundedLineCaps:R,rootColor:T}).map(({data:h,sum:$,root:N,lineRoundCaps:z,offset:I},S)=>G.createElement(C,{...h,key:S,size:d,thickness:k,sum:$,offset:I,color:h==null?void 0:h.color,root:N,lineRoundCaps:z,getStyles:p}));return r.jsxs(b,{...p("root"),size:d,ref:t,...j,children:[r.jsx("svg",{...p("svg"),children:w}),c&&r.jsx("div",{...p("label"),children:c})]})});_.classes=P;_.displayName="@mantine/core/RingProgress";const Z="_link_kcnen_1",ss={link:Z};function gs({project:s}){const{t}=q();let e=0,n=0;return s.all_tasks_count>0&&(e=s.completed_tasks_count/s.all_tasks_count*100,n=s.overdue_tasks_count/s.all_tasks_count*100),r.jsx(O,{bg:"none",children:r.jsxs(x,{justify:"space-between",wrap:"nowrap",children:[r.jsxs(H,{gap:6,children:[r.jsx(x,{justify:"space-between",children:r.jsxs(J,{fz:24,onClick:()=>V("projects.tasks",s.id),className:ss.link,children:[s.favorite&&r.jsx(K,{style:{color:"var(--mantine-color-yellow-4)",width:f(15),height:f(15),marginRight:10}}),s.name]})}),r.jsx(g,{fz:"xs",fw:700,c:"dimmed",mb:4,children:s.client_company.name}),r.jsx("div",{children:r.jsx(y,{label:t("completed_tasks_tooltip"),openDelay:500,withArrow:!0,children:r.jsxs(g,{fz:"lg",fw:500,inline:!0,span:!0,children:[t("tasks"),": ",s.completed_tasks_count," / ",s.all_tasks_count]})})})]}),r.jsx(_,{size:100,thickness:10,sections:[{value:100-(e+n),color:"gray"},{value:n,color:"red",tooltip:`${t("overdue")}: ${s.overdue_tasks_count}`},{value:e,color:"blue",tooltip:`${t("completed")}: ${s.completed_tasks_count}`}],label:r.jsxs(g,{fz:15,fw:700,ta:"center",children:[W(e),"%"]})})]})})}export{gs as ProjectCard};
