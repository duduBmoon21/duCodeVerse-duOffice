import{t as z,f as v,d as f,j as e,B as N,e as L,h as T,i as B,m as G,u as D,g as I,o as O,c as V,G as A}from"./app-CWuogeuA.js";import{g as E}from"./user-IyQLa11_.js";import F from"./FavoriteToggle-BhRlaEcI.js";import M from"./ProjectCardActions--Z9dmCEG.js";import{C as q}from"./Card-C_bx3538.js";import{T as g}from"./Text-DBjpm_Fk.js";import{u as H}from"./use-resolved-styles-api-D8xKo8RY.js";import{g as J}from"./get-auto-contrast-value-Da6zqqWm.js";import{T as k}from"./Tooltip-DPD_X-vc.js";import{A as C}from"./Avatar-BCESiNXx.js";import"./index-DzNBzU-A.js";import"./IconStarFilled-CVV2pk_r.js";import"./createReactComponent-BZslM3T3.js";import"./IconStar-CnMZfBoJ.js";import"./ConfirmModal-BiBfjp2e.js";import"./useForm-CE__LUR5.js";import"./UserAccessModal-BxGkcWuR.js";import"./MultiSelect-TofQUElt.js";import"./OptionsDropdown-ZaBUUms4.js";import"./CheckIcon-2w3lxFdE.js";import"./ScrollArea-CoM5ddBT.js";import"./DirectionProvider-D0Syn9za.js";import"./Combobox-BblCFk_J.js";import"./Popover-aOZF2sDJ.js";import"./use-floating-auto-update-B-_0Oi9q.js";import"./use-uncontrolled-Dq7POLQj.js";import"./Input-BJ3Z7SeR.js";import"./create-optional-context-D29aDTej.js";import"./InputBase-CS0Y85uP.js";import"./Pill-B1m13iod.js";import"./PillsInput-DNcbdnY5.js";import"./Flex-CNYIBZmK.js";import"./useTranslation-BMED3SRO.js";import"./Menu-LLfB-uq4.js";import"./ActionIcon-CHZoSw_v.js";import"./IconDots-CYpA-CHs.js";import"./IconUsers-DgTwuMK6.js";import"./IconPencil-Cp32rb9d.js";import"./IconArchive-Bkr4SLne.js";import"./get-style-object-DUJZA7T_.js";const[K,R]=z("Progress.Root component was not found in tree");var x={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const Q={},S=v((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:u,...i}=f("ProgressLabel",Q,s),c=R();return e.jsx(N,{ref:o,...c.getStyles("label",{className:r,style:l,classNames:t,styles:a}),...i})});S.classes=x;S.displayName="@mantine/core/ProgressLabel";const U={},W=T((s,{size:o,radius:t,transitionDuration:r})=>({root:{"--progress-size":B(o,"progress-size"),"--progress-radius":t===void 0?void 0:G(t),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}})),j=v((s,o)=>{const t=f("ProgressRoot",U,s),{classNames:r,className:l,style:a,styles:u,unstyled:i,vars:c,autoContrast:m,transitionDuration:h,...p}=t,d=L({name:"Progress",classes:x,props:t,className:l,style:a,classNames:r,styles:u,unstyled:i,vars:c,varsResolver:W});return e.jsx(K,{value:{getStyles:d,autoContrast:m},children:e.jsx(N,{ref:o,...d("root"),...p})})});j.classes=x;j.displayName="@mantine/core/ProgressRoot";const X={withAria:!0},y=v((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:u,value:i,withAria:c,color:m,striped:h,animated:p,mod:d,...P}=f("ProgressSection",X,s),b=R(),w=D(),$=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-valuetext":`${i}%`}:{};return e.jsx(N,{ref:o,...b.getStyles("section",{className:r,classNames:t,styles:a,style:l}),...P,...$,mod:[{striped:h||p,animated:p},d],__vars:{"--progress-section-width":`${i}%`,"--progress-section-color":I(m,w),"--progress-label-color":J(b.autoContrast,w)?O({color:m,theme:w,autoContrast:b.autoContrast}):void 0}})});y.classes=x;y.displayName="@mantine/core/ProgressSection";const Y={},n=v((s,o)=>{const t=f("Progress",Y,s),{value:r,classNames:l,styles:a,vars:u,color:i,striped:c,animated:m,"aria-label":h,...p}=t,{resolvedClassNames:d,resolvedStyles:P}=H({classNames:l,styles:a,props:t});return e.jsx(j,{ref:o,classNames:d,styles:P,vars:u,...p,children:e.jsx(y,{value:r,color:i,striped:c,animated:m,"aria-label":h})})});n.classes=x;n.displayName="@mantine/core/Progress";n.Section=y;n.Root=j;n.Label=S;const Z=s=>{(s.target.dataset.ignoreLink||s.target.parentNode.dataset.ignoreLink)&&s.preventDefault()},ss="_link_wt9y9_1",es="_card_wt9y9_5",ts="_title_wt9y9_11",_={link:ss,card:es,title:ts};function Ms({item:s}){var r,l;const o=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100;return e.jsx(V,{href:route("projects.tasks",s.id),className:_.link,onClick:Z,children:e.jsxs(q,{withBorder:!0,padding:"xl",radius:"md",w:350,className:_.card,children:[e.jsxs(A,{justify:"space-between",children:[e.jsx(g,{fz:23,fw:700,className:_.title,children:s.name}),e.jsx(F,{item:s})]}),e.jsx(g,{fz:"sm",fw:500,children:(r=s.client_company)==null?void 0:r.name}),((l=s.description)==null?void 0:l.length)>0&&e.jsx(g,{fz:"sm",c:"dimmed",mt:"lg",children:s.description}),e.jsxs(g,{c:"dimmed",fz:"sm",mt:"md",children:["Completed tasks:"," ",e.jsxs(g,{span:!0,fw:500,c:"bright",children:[s.completed_tasks_count," / ",s.all_tasks_count]})]}),e.jsxs(n.Root,{value:s.all_tasks_count,mt:10,radius:"xl",children:[e.jsx(k,{label:`Completed: ${s.completed_tasks_count}`,withArrow:!0,children:e.jsx(n.Section,{value:o,color:"blue"})}),e.jsx(k,{label:`Overdue: ${s.overdue_tasks_count}`,withArrow:!0,children:e.jsx(n.Section,{value:t,color:"red"})}),e.jsx(n.Section,{value:100-(o+t),color:"gray"})]}),e.jsxs(A,{justify:"space-between",mt:"md",children:[e.jsxs(C.Group,{spacing:"sm",children:[s.users_with_access.slice(0,4).map(a=>e.jsx(k,{label:a.name,openDelay:300,withArrow:!0,children:e.jsx(C,{src:a.avatar,radius:"xl",style:{cursor:"default"},"data-ignore-link":!0,className:_.avatar,children:E(a.name)})},a.id)),s.users_with_access.length-4>0&&e.jsxs(C,{radius:"xl",children:["+",s.users_with_access.length-4]})]}),e.jsx(M,{item:s})]})]})})}export{Ms as default};
