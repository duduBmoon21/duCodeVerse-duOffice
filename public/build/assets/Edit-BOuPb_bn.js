import{q as g,j as e,B as h,G as l}from"./app-CWuogeuA.js";import{A as y}from"./ActionButton-1oerYmGA.js";import{u as b}from"./useForm-CE__LUR5.js";import{C as j}from"./ContainerBox-Dh3CZYdL.js";import{M as f}from"./MainLayout-CE7MuGsf.js";import{G as n}from"./Grid-COkziOVk.js";import{T as C}from"./Title-bWYyVAL-.js";import{I as w}from"./Image-CfkRg-eL.js";import{F as _}from"./FileInput-BMIjsayl.js";import{T as v}from"./Text-DBjpm_Fk.js";import{T as i}from"./TextInput-B7I0J4Fq.js";import{F as m}from"./Fieldset-CiwSPIf_.js";import{S as p}from"./Select-Bn4NAItF.js";import{N as S}from"./NumberInput-Bm5q0Uu2.js";import"./index-DzNBzU-A.js";import"./FlashNotification-CUEjPccD.js";import"./use-disclosure-DdlN0XeZ.js";import"./IconInfoCircle-BU4LTY3o.js";import"./createReactComponent-BZslM3T3.js";import"./IconCircleX-C_rRrgjf.js";import"./useWebSockets-BSR8MU8Y.js";import"./index-BYaGWh-B.js";import"./useTaskGroupsStore-YIpScD4-.js";import"./reorder-DEPdcA2I.js";import"./_baseClone-j4chtsIi.js";import"./useTasksStore-c3WoVS5K.js";import"./use-computed-color-scheme-DxTmAknQ.js";import"./route-HpiTa34D.js";import"./get-style-object-DUJZA7T_.js";import"./user-IyQLa11_.js";import"./Menu-LLfB-uq4.js";import"./use-resolved-styles-api-D8xKo8RY.js";import"./Popover-aOZF2sDJ.js";import"./DirectionProvider-D0Syn9za.js";import"./use-floating-auto-update-B-_0Oi9q.js";import"./use-uncontrolled-Dq7POLQj.js";import"./Avatar-BCESiNXx.js";import"./upper-first-sQkIoMXG.js";import"./IconLayoutList-CcvDTy9J.js";import"./IconUsers-DgTwuMK6.js";import"./ScrollArea-CoM5ddBT.js";import"./useTranslation-BMED3SRO.js";import"./get-auto-contrast-value-Da6zqqWm.js";import"./EmptyWithIcon-Ed5vXGFV.js";import"./datetime-ChC_71Zn.js";import"./IconMessage-Cma70nuv.js";import"./ActionIcon-CHZoSw_v.js";import"./Center-DiF0sA08.js";import"./get-sorted-breakpoints-CRzXWRXT.js";import"./get-base-value-JqT_q0U7.js";import"./Input-BJ3Z7SeR.js";import"./create-optional-context-D29aDTej.js";import"./InputBase-CS0Y85uP.js";import"./OptionsDropdown-ZaBUUms4.js";import"./CheckIcon-2w3lxFdE.js";import"./Combobox-BblCFk_J.js";import"./clamp-DTmYCdls.js";const F=()=>{var d,s;const{item:t,dropdowns:{countries:c,currencies:u}}=g().props,[r,x,a]=b("post",route("settings.company.update"),{_method:"put",logo:null,name:t.name||"",postal_code:t.postal_code||"",city:t.city||"",country_id:t.country_id||"",currency_id:t.currency_id||"",email:t.email||"",phone:t.phone||"",web:t.web||"",business_id:t.business_id||"",tax_id:t.tax_id||"",tax:t.tax/100||0});return e.jsxs(e.Fragment,{children:[e.jsx(n,{justify:"space-between",align:"flex-end",gutter:"xl",mb:35,children:e.jsx(n.Col,{span:"auto",children:e.jsx(C,{order:1,children:"My Company"})})}),e.jsx(j,{maw:600,children:e.jsxs("form",{onSubmit:o=>x(o,{forceFormData:!0}),children:[e.jsxs(n,{justify:"flex-start",align:"center",gutter:"lg",children:[e.jsx(n.Col,{span:"content",children:t.logo||r.data.logo?e.jsx(w,{src:r.data.logo===null?t.logo:URL.createObjectURL(r.data.logo),w:240,h:64}):e.jsx(h,{w:240,h:64,bg:"#25262b",align:"center",pt:"lg",opacity:.6,children:"Company logo"})}),e.jsxs(n.Col,{span:"auto",children:[e.jsx(_,{label:"Logo",placeholder:"Choose image",accept:"image/png,image/jpeg",onChange:o=>a("logo",o),clearable:!0,error:r.errors.logo,disabled:!can("edit owner company")}),e.jsx(v,{size:"xs",c:"dimmed",mt:"sm",children:"240px Ã— 64px (aspect 15:4)"})]})]}),e.jsx(i,{label:"Name",placeholder:"Company name",required:!0,mt:"md",value:r.data.name,onChange:o=>a("name",o.target.value),error:r.errors.name,disabled:!can("edit owner company")}),e.jsxs(m,{legend:"Location",mt:"xl",children:[e.jsxs(l,{grow:!0,children:[e.jsx(i,{label:"Region",placeholder:"Region",mt:"md",value:r.data.postal_code,onChange:o=>a("postal_code",o.target.value),error:r.errors.postal_code,disabled:!can("edit owner company")}),e.jsx(i,{label:"City",placeholder:"City",mt:"md",value:r.data.city,onChange:o=>a("city",o.target.value),error:r.errors.city,disabled:!can("edit owner company")})]}),e.jsx(p,{label:"Country",placeholder:"Select country",mt:"md",searchable:!0,value:(d=r.data.country_id)==null?void 0:d.toString(),onChange:o=>a("country_id",o),data:c,error:r.errors.country_id,disabled:!can("edit owner company")})]}),e.jsx(m,{legend:"Finance",mt:"xl",children:e.jsxs(l,{grow:!0,children:[e.jsx(p,{label:"Default Currency",placeholder:"Select currency",required:!0,mt:"md",searchable:!0,value:(s=r.data.currency_id)==null?void 0:s.toString(),onChange:o=>a("currency_id",o),data:u,error:r.errors.currency_id,disabled:!can("edit owner company")}),e.jsx(S,{label:"Tax",required:!0,allowNegative:!1,clampBehavior:"strict",decimalScale:2,fixedDecimalScale:!0,suffix:"%",mt:"md",value:r.data.tax,onChange:o=>a("tax",o),error:r.errors.tax,disabled:!can("edit owner company")})]})}),e.jsxs(m,{legend:"Contact",mt:"xl",children:[e.jsxs(l,{grow:!0,children:[e.jsx(i,{label:"Email",placeholder:"Email",value:r.data.email,onChange:o=>a("email",o.target.value),error:r.errors.email,disabled:!can("edit owner company")}),e.jsx(i,{label:"Phone",placeholder:"Phone",value:r.data.phone,onChange:o=>a("phone",o.target.value),error:r.errors.phone,disabled:!can("edit owner company")})]}),e.jsx(i,{label:"Web",placeholder:"Web",mt:"md",value:r.data.web,onChange:o=>a("web",o.target.value),error:r.errors.web,disabled:!can("edit owner company")})]}),e.jsx(l,{justify:"flex-end",mt:"xl",children:can("edit owner company")&&e.jsx(y,{loading:r.processing,children:"Save"})})]})})]})};F.layout=t=>e.jsx(f,{title:"Edit Company",children:t});export{F as default};
